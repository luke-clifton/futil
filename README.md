A functional take on some shell utilities.

Arrays are '\0' separated (not terminated!) strings.

(this means no empty lists though... hmmm)
